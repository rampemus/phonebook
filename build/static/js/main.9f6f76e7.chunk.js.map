{"version":3,"sources":["services/numberService.js","components/filter.jsx","components/personform.jsx","components/persons.jsx","components/notification.jsx","App.js","index.js"],"names":["url","numberService","axios","get","then","response","console","log","data","newPerson","post","id","newNumber","requestUrl","concat","patch","number","person","request","delete","Filter","props","react_default","a","createElement","value","filterName","onChange","handleFilterNameChange","PersonForm","onSubmit","addPerson","newName","handleNewNameChange","handleNewNumberChange","type","Persons","_ref","persons","handlePersonDelete","filter","name","toLowerCase","includes","map","key","onClick","Notification","text","isError","style","color","fontWeight","backgroundColor","padding","borderStyle","borderColor","borderRadius","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","error","_useState4","notification","setNotification","_useState5","_useState6","setFilterName","_useState7","_useState8","setNewName","_useState9","_useState10","setNewNumber","useEffect","setTimeout","initialNumbers","nameTaken","find","components_notification","event","target","personform","preventDefault","undefined","window","confirm","modifiedPerson","catch","returnedPerson","components_persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9f6f76e7.chunk.js","sourcesContent":["import axios from 'axios'\nconst url = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(url)\n\n    return request.then(response => {\n        console.log(\"here:\",response.data)\n        return response.data\n    })\n}\n\nconst create = newPerson => {\n    const request = axios.post(url, newPerson)\n    return request.then( response => response.data)\n}\n\nconst modifyNumber = (id,newNumber) => {\n    const requestUrl = url+`/${id}`\n    const request = axios.patch(requestUrl, { number: newNumber})\n    return request.then( response => response.data )\n}\n\nconst deletePerson = person => {\n    console.log(person)\n    const requestUrl = url+`/${person.id}`\n    console.log(requestUrl)\n    const request = axios.delete(requestUrl)\n    console.log('Person deleted')\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    modifyNumber,\n    deletePerson\n}\n","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n            filter shown with: <input\n                value={props.filterName}\n                onChange={props.handleFilterNameChange}\n            />\n        </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input\n                    value={props.newName}\n                    onChange={props.handleNewNameChange}\n                />\n            </div>\n            <div>\n                phone number: <input\n                value={props.newNumber}\n                onChange={props.handleNewNumberChange}\n            />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({persons,filterName,handlePersonDelete}) => {\n    return (\n        <div>\n            {persons.filter(\n                person => person.name.toLowerCase().includes(filterName.toLowerCase())).map(\n                    (person, id) =>\n                        <div key={id}>{person.name} {person.number} <button onClick={()=>handlePersonDelete(person)}>delete</button></div>\n                )\n            }\n        </div>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ text, isError }) => {\n    if ( text !== null) {\n        return (\n            <p style={{\n                color: isError ? 'red' : 'green',\n                fontWeight: 'bold',\n                backgroundColor:'lightgrey',\n                padding:'10px',\n                borderStyle: 'solid',\n                borderColor: isError ? 'red' : 'green',\n                borderRadius: '5px'\n            }}>{text}</p>\n        )} else {\n            return(<div></div>)\n        }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport numberService from './services/numberService'\nimport Filter from './components/filter'\nimport PersonForm from './components/personform'\nimport Persons from './components/persons'\nimport Notification from './components/notification'\n\nconst App = () => {\n\n\n    const [ persons, setPersons ] = useState([])\n    const [notification, setNotification] = useState({\n        text: 'Notification will be printed here',\n        error: true\n    })\n    const [ filterName, setFilterName ] = useState('')\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n\n    useEffect(()=>{\n        setTimeout(\n            ()=>setNotification({text:null, error:false}),\n            3000\n        )\n    },[notification])\n\n    useEffect(()=>{\n        numberService\n            .getAll()\n            .then(initialNumbers => {\n                setPersons(initialNumbers)\n            })\n    },[])\n\n    const handlePersonDelete = person => {\n        if (window.confirm(`Delete ${person.name} from phonebook?`))\n        numberService\n            .deletePerson(person)\n            .then(\n                setPersons(persons.filter(number => number.id !== person.id))\n            )\n    }\n\n    const nameTaken = (name) => {\n        return persons.find(person=>person.name === name)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            name: newName,\n            number: newNumber,\n        }\n        if ( nameTaken(newName) !== undefined ) {\n            if( window.confirm(`${newName} is already added to phonebook, would you like to replace the old number with ${newNumber}?`) ) {\n                numberService\n                    .modifyNumber(nameTaken(newName).id,newNumber)\n                    .then( modifiedPerson => {\n                        setPersons(\n                            persons.map(person => person.id !== modifiedPerson.id ? person : modifiedPerson)\n                        )\n                    })\n                    .catch(error => {\n                        setNotification({text:`Information of ${newPerson.name} was already been removed from server`, error:true})\n                    })\n            }\n        } else {\n            numberService\n                .create(newPerson)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                    setNotification({text:`${newPerson.name} added to the phone book`, error:false})\n                })\n\n            setNewName('')\n            setNewNumber('')\n        }\n    }\n\n    const handleFilterNameChange = (event) => {\n        // console.log(event.target.value)\n        setFilterName(event.target.value)\n    }\n\n    const handleNewNameChange = (event) => {\n        // console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNewNumberChange = (event) => {\n        // console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n\n    return (\n        <div>\n            <h2>Phone book</h2>\n            <Notification text={notification.text} isError={notification.error}/>\n            <Filter\n                filterName={filterName}\n                handleFilterNameChange={handleFilterNameChange}\n            />\n            <h2>add new</h2>\n            <PersonForm\n                addPerson={addPerson}\n                newName={newName}\n                handleNewNameChange={handleNewNameChange}\n                newNumber={newNumber}\n                handleNewNumberChange={handleNewNumberChange}\n            />\n            <h2>Numbers</h2>\n            <Persons\n                persons={persons}\n                filterName={filterName}\n                handlePersonDelete={handlePersonDelete}\n            />\n        </div>\n    )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}