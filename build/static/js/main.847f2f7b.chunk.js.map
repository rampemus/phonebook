{"version":3,"sources":["services/numberService.js","components/filter.jsx","components/personform.jsx","components/persons.jsx","components/notification.jsx","App.js","index.js"],"names":["url","numberService","axios","get","then","response","data","newPerson","post","id","newNumber","requestUrl","concat","put","number","person","console","log","request","delete","Filter","props","react_default","a","createElement","value","filterName","onChange","handleFilterNameChange","PersonForm","onSubmit","addPerson","newName","handleNewNameChange","handleNewNumberChange","type","Persons","_ref","persons","handlePersonDelete","filter","name","toLowerCase","includes","map","key","onClick","Notification","text","isError","style","color","fontWeight","backgroundColor","padding","borderStyle","borderColor","borderRadius","position","width","marginLeft","left","top","zIndex","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","error","_useState4","notification","setNotification","_useState5","_useState6","setFilterName","_useState7","_useState8","setNewName","_useState9","_useState10","setNewNumber","useEffect","setTimeout","initialNumbers","nameTaken","find","components_notification","event","target","personform","preventDefault","undefined","window","confirm","modifiedPerson","catch","returnedPerson","components_persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.847f2f7b.chunk.js","sourcesContent":["import axios from 'axios'\nconst url = '/api/persons' //for build '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(url)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(url, newPerson)\n    return request.then( response => response.data)\n}\n\nconst modifyNumber = (id,newNumber) => {\n    const requestUrl = url+`/${id}`\n    const request = axios.put(requestUrl, { number: newNumber})\n    return request.then( response => response.data )\n}\n\nconst deletePerson = person => {\n    console.log(person)\n    const requestUrl = url+`/${person.id}`\n    console.log(requestUrl)\n    const request = axios.delete(requestUrl)\n    console.log('Person deleted')\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    modifyNumber,\n    deletePerson\n}\n","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n            filter shown with: <input\n                value={props.filterName}\n                onChange={props.handleFilterNameChange}\n            />\n        </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input\n                    value={props.newName}\n                    onChange={props.handleNewNameChange}\n                />\n            </div>\n            <div>\n                phone number: <input\n                value={props.newNumber}\n                onChange={props.handleNewNumberChange}\n            />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({persons,filterName,handlePersonDelete}) => {\n    return (\n        <div>\n            {persons.filter(\n                person => person.name.toLowerCase().includes(filterName.toLowerCase())).map(\n                    (person, id) =>\n                        <div key={id}>{person.name} {person.number} <button onClick={()=>handlePersonDelete(person)}>delete</button></div>\n                )\n            }\n        </div>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ text, isError }) => {\n    if ( text !== null) {\n        return (\n            <p style={{\n                color: isError ? 'red' : 'green',\n                fontWeight: 'bold',\n                backgroundColor:'lightgrey',\n                padding:'10px',\n                borderStyle: 'solid',\n                borderColor: isError ? 'red' : 'green',\n                borderRadius: '5px',\n                position: 'fixed',\n                width:'16em',/*set to a negative number 1/2 of your height*/\n                marginLeft: '-8em',\n                left: '50%',\n                top: '0%',\n                zIndex: 1\n            }}>{text}</p>\n        )} else {\n            return(<div></div>)\n        }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport numberService from './services/numberService'\nimport Filter from './components/filter'\nimport PersonForm from './components/personform'\nimport Persons from './components/persons'\nimport Notification from './components/notification'\n\nconst App = () => {\n\n\n    const [ persons, setPersons ] = useState([])\n    const [notification, setNotification] = useState({\n        text: 'Notification will be printed here',\n        error: false\n    })\n    const [ filterName, setFilterName ] = useState('')\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n\n    useEffect(()=>{\n        // console.log('notification text:',notification.text)\n        if ( notification.text ) { //only set timeout if there is actually notification\n            // console.log('timeout added')\n            setTimeout(\n                ()=>{\n                    // console.log('setting notification to null')\n                    setNotification({text:null, error:false})\n                }\n            ,5000)\n        }\n    },[notification])\n\n    useEffect(()=>{\n        numberService\n            .getAll()\n            .then(initialNumbers => {\n                setPersons(initialNumbers)\n            })\n    },[])\n\n    const handlePersonDelete = person => {\n        if (window.confirm(`Delete ${person.name} from phonebook?`))\n        numberService\n            .deletePerson(person)\n            .then(\n                setPersons(persons.filter(number => number.id !== person.id))\n            )\n    }\n\n    const nameTaken = (name) => {\n        return persons.find(person=>person.name === name)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            name: newName,\n            number: newNumber,\n        }\n        if ( nameTaken(newName) !== undefined ) {\n            if( window.confirm(`${newName} is already added to phonebook, would you like to replace the old number with ${newNumber}?`) ) {\n                numberService\n                    .modifyNumber(nameTaken(newName).id,newNumber)\n                    .then( modifiedPerson => {\n                        setPersons(\n                            persons.map(person => person.id !== modifiedPerson.id ? person : modifiedPerson)\n                        )\n                    })\n                    .catch(error => {\n                        setNotification({text:`Information of ${newPerson.name} was already been removed from server`, error:true})\n                    })\n            }\n        } else {\n            numberService\n                .create(newPerson)\n                .then(returnedPerson => {\n                    console.log(returnedPerson)\n                    setPersons(persons.concat(returnedPerson))\n                    setNotification({text:`${newPerson.name} added to the phone book`, error:false})\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .catch(error => {\n                    console.log('here:',error.response.data.error)\n                    setNotification(\n                        {\n                            text:`${error.response.data.error}`,\n                            error:true\n                        }\n                    )\n                })\n        }\n    }\n\n    const handleFilterNameChange = (event) => {\n        // console.log(event.target.value)\n        setFilterName(event.target.value)\n    }\n\n    const handleNewNameChange = (event) => {\n        // console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNewNumberChange = (event) => {\n        // console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n\n    return (\n        <div>\n            <h2>Phone book</h2>\n            <Notification text={notification.text} isError={notification.error}/>\n            <Filter\n                filterName={filterName}\n                handleFilterNameChange={handleFilterNameChange}\n            />\n            <h2>add new</h2>\n            <PersonForm\n                addPerson={addPerson}\n                newName={newName}\n                handleNewNameChange={handleNewNameChange}\n                newNumber={newNumber}\n                handleNewNumberChange={handleNewNumberChange}\n            />\n            <h2>Numbers</h2>\n            <Persons\n                persons={persons}\n                filterName={filterName}\n                handlePersonDelete={handlePersonDelete}\n            />\n        </div>\n    )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}